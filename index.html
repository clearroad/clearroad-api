<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Clearroad Demonstrator</title>
  <meta name="description" content="Clearroad Demonstrator">

  <script src="node_modules/rsvp/dist/rsvp-2.0.4.js"></script>
  <script src="node_modules/jio/dist/jio-latest.js"></script>
  <script src="node_modules/ajv/dist/ajv.bundle.js"></script>
  <script src="dist/iife/clearroad.js"></script>

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->

  <style>
    iframe {
      border: 0;
      height: 100px;
      margin: 0;
      padding: 0;
    }
    [type="submit"] {
      font-size: 14px;
      padding: 5px;
    }
  </style>
</head>
  <body>
    <form id="form">
      <div style="margin: 10px 0">
        <iframe src="https://erp5.clearroadev.xyz/api_auth"></iframe>
      </div>
      <div style="margin: 10px 0">
        <label for="url">api url:</label>
        <input type="string" name="url" readonly style="width:400px"
          value="https://erp5.clearroadev.xyz/web_site_module/hateoas"
        />
      </div>
      <div style="display: none;margin: 10px 0">
        <p>
          Login on the <a href="https://erp5.clearroadev.xyz" target="_blank">ERP5 platform</a>
          or type in your access token
        </p>
      </div>
      <div style="display: none;margin: 10px 0">
        <label for="token">access token:</label>
        <input type="string" name="token" placeholder="Token (optional)" style="width:425px" />
      </div>
      <div style="margin: 10px 0">
        <label for="type">storage type:</label>
        <select name="type">
          <option value="indexeddb" selected="true">IndexedDB (local)</option>
          <option value="dropbox">Dropbox</option>
        </select>
        <input type="string" name="type_token" placeholder="Token (required)" style="display: none;width:300px" />
      </div>
      <div>
        <textarea name="usercode" rows="20" cols="100" placeholder="paste the code here">
cr.sync(message => console.log(message)).push(() => console.log('done'), err => console.error(err))
        </textarea>
      </div>
      <input type="submit" value="Submit" />
      <hr />
      <p>JS Logs</p>
      <div id="log"></div>
      <hr />
      <p>Results</p>
      <div id="result"></div>
    </form>

    <script src="sample.js"></script>
  </body>
</html>
